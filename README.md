# Pathcord

## 概要
オンラインプログラミング学習サービス[Parogate Path](https://path.progate.com)の
Discordコミニティで利用されているBotのJavascriptバージョンです。
現在運用されているものはPythonで動作しています。
こちらが完成しだいJavaScriptに移行されます。

## 機能
#### チェックマークがついているものが実装されている機能です。
- [x] 勉強部屋(ボイスチャンネル)の作成
- [x] 勉強時間の記録
- [ ] 勉強時間のランキング化
- [ ] 勉強部屋の人数制限
- [ ] 勉強部屋のロック
- [ ] 勉強部屋への招待

## 使い方
カレントディレクトリに`config.json`というファイルを作成したら、そのファイルに以下をコピペしてください。
```json
{
  "clientId": "your-bot-id-here",
  "token": "your-bot-token-here"
}
```
`clientId`と`token`を入力したら、
`deploy-commands.js`を一回走らせたあと`index.js`で起動してください。

## ディレクトリの説明
- `commands`はスラッシュコマンドとその処理に関するファイルが入っています。ただし、`commands/groups`の中身はコマンドだけで処理はありません。`return`でサブコマンドを返してください。サブコマンドが存在するグループの登録を目的としています。
- `database`は`sqlite`データベースファイルが入っています。機能ごとにファイルは分けています。
- `events`はイベントファイルが入っています。中で更に機能ごとにディレクトリ分けされています。
- `process`は`commands/groups`で登録したコマンドの処理を書きます。イベントを受け取り、インタラクションのサブコマンドを取得して処理をファイルごとに分けています。

## 開発者向け注意
- `database`ファイルは必ず`SQLite`ドライバーを使用してください。
- サブコマンドが存在するコマンドグループを作成する際は必ず処理は`process`に作成してください。
- `commands`,`events`,`process`内のディレクトリで同名のものは同じ機能の処理として扱います。